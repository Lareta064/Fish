include ../layouts/_mixins-links.pug
block variables

<!DOCTYPE html>
html(lang="ru")
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible", content="ie=edge")

		//====убрать синий цвет у ссылок в сафари ========
		meta(name="format-detection" content="telephone=no")
		link(rel="stylesheet", href="../css/main.css")
		title UI-KIT

	body.body-dashboard

		include ui-navigation.pug

		block content
			.container-dashboard
				h2 Каталог

				.container-dashboard__content
					.catalogy
						.catalogy-menu
							//КАТЕГОРИИ
							.catalogy-item
								.catalogy-item__btn.has-drop 
									a(href="#").catalogy-item__name Каталог
									i.carret-down
								
								.catalogy-item__drop.has-drop-content
									//single category
									.catalogy-category.has-subdrop
										.catalogy-category__btn
											
											.catalogy-category__icon
												svg.svg-category1
													use(href='../img/sprite.svg#category1')
											
											.catalogy-category__cat
												p Рыба
												span (96)
										//subcategory
										.catalogy-sub.has-subdrop-content
											a(href="#!").catalogy-sub__item 
												p Рыба вяленная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Рыба вяленная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Рыба вяленная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Рыба вяленная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Рыба вяленная
												span (25)
									
									//single category
									.catalogy-category.has-subdrop
										.catalogy-category__btn
											
											.catalogy-category__icon
												svg.svg-category2
													use(href='../img/sprite.svg#category2')
											
											.catalogy-category__cat
												p Икра
												span (96)
										//subcategory
										.catalogy-sub.has-subdrop-content
											a(href="#!").catalogy-sub__item 
												p Икра красная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Икра черная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Рыба щучья
												span (25)
											a(href="#!").catalogy-sub__item 
												p Икра красная
												span (25)
											a(href="#!").catalogy-sub__item 
												p Икра черная
												span (25)
					
							//ЦЕНА
							.catalogy-item
								.catalogy-item__btn.has-drop 
									a(href="#").catalogy-item__name Цена, ₽
									i.carret-down
								
								.catalogy-item__drop.has-drop-content
									
					
					//- include ../blocks/_catalogy-menu

					pre.
						include ../blocks/_catalogy-menu
		script.
			const catalogyItems = document.querySelectorAll('.catalogy-item');
			if(catalogyItems.length>0){
				catalogyItems.forEach((item)=>{
					catalogyHasDrop = item.querySelector('.has-drop');
					catalogyDropContent = item.querySelector('.has-drop-content');
					catalogyHasSub = item.querySelectorAll('.has-subdrop');
					

					catalogyHasDrop.addEventListener('click', ()=>{
						if(item.classList.contains('active')){
							item.classList.remove('active');
						}else{
							item.classList.add('active');
							catalogyDropContent.classList.add('active');
						}
					});

					catalogyHasSub.forEach((sub)=>{
						catalogySubContent = sub.querySelector('.has-subdrop-content');
					
							sub.addEventListener('click', ()=>{
								if(sub.classList.contains('active')){
									sub.classList.remove('active');
								}else{
									sub.classList.add('active');
									
								}
							});
					});
				});

				
			}
		